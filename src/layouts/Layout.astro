---
import '../styles/global.css';
import 'aos/dist/aos.css';

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;
---

<!doctype html>
<html lang="cs" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<meta name="author" content="Michal Trněný - Fajný 3D tisk" />
		<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
		<meta name="language" content="cs" />
		<meta name="revisit-after" content="7 days" />

		<!-- Content Security Policy -->
		<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://*.google-analytics.com https://api.staticforms.xyz; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://*.google-analytics.com https://*.analytics.google.com https://api.staticforms.xyz; base-uri 'self'; form-action 'self' https://api.staticforms.xyz;" />

		<!-- Apple -->
		<meta name="apple-mobile-web-app-title" content="Fajný 3D tisk" />

		<!-- Open Graph -->
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://fajny3dtisk.cz/fajny3d-tisk-logo.jpg" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="Fajný 3D tisk - Profesionální 3D tiskové služby ve Frýdku-Místku" />
		<meta property="og:url" content="https://fajny3dtisk.cz/" />
		<meta property="og:type" content="website" />
		<meta property="og:locale" content="cs_CZ" />
		<meta property="og:site_name" content="Fajný 3D tisk" />

		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content="https://fajny3dtisk.cz/fajny3d-tisk-logo.jpg" />

		<!-- Canonical -->
		<link rel="canonical" href="https://fajny3dtisk.cz/" />

		<!-- Geo & Local SEO -->
		<meta name="geo.region" content="CZ-MSK" />
		<meta name="geo.placename" content="Frýdek-Místek" />
		<meta name="geo.position" content="49.6833;18.3500" />
		<meta name="ICBM" content="49.6833, 18.3500" />
		<meta name="DC.title" content={title} />
		<link rel="alternate" hreflang="cs" href="https://fajny3dtisk.cz/" />

		<!-- Icons -->
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="manifest" href="/manifest.json" />

		<!-- Note: Hero and logo images are optimized by Astro and loaded with fetchpriority="high" -->

		<!-- GLightbox CSS will be loaded after page load via script below -->

		<title>{title}</title>

		<!-- Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-VD0E3LQY17"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-VD0E3LQY17');
		</script>

		<!-- Structured Data - LocalBusiness -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "LocalBusiness",
			"@id": "https://fajny3dtisk.cz/#organization",
			"name": "Fajný 3D tisk",
			"alternateName": "Fajný 3D tisk Frýdek-Místek",
			"description": "Profesionální 3D tisk na zakázku ve Frýdku-Místku a okolí. Rychlý 3D tisk z PLA a PETG do 48h s osobním přístupem a kvalitními výsledky.",
			"image": [
				"https://fajny3dtisk.cz/fajny3d-tisk-logo.jpg",
				"https://fajny3dtisk.cz/img/michal.jpg"
			],
			"logo": {
				"@type": "ImageObject",
				"url": "https://fajny3dtisk.cz/fajny3d-tisk-logo.jpg",
				"width": "512",
				"height": "512"
			},
			"url": "https://fajny3dtisk.cz/",
			"telephone": "",
			"email": "michal@fajny3dtisk.cz",
			"address": {
				"@type": "PostalAddress",
				"streetAddress": "Jana Čapka 3081",
				"addressLocality": "Frýdek-Místek",
				"addressRegion": "Moravskoslezský kraj",
				"postalCode": "738 01",
				"addressCountry": "CZ"
			},
			"geo": {
				"@type": "GeoCoordinates",
				"latitude": 49.6833,
				"longitude": 18.3500
			},
			"areaServed": [
				{
					"@type": "City",
					"name": "Frýdek-Místek"
				},
				{
					"@type": "City",
					"name": "Ostrava"
				},
				{
					"@type": "City",
					"name": "Havířov"
				},
				{
					"@type": "City",
					"name": "Třinec"
				},
				{
					"@type": "State",
					"name": "Česká republika"
				}
			],
			"hasOfferCatalog": {
				"@type": "OfferCatalog",
				"name": "3D tiskové služby",
				"itemListElement": [
					{
						"@type": "Offer",
						"itemOffered": {
							"@type": "Service",
							"name": "3D tisk z PLA",
							"description": "3D tisk z PLA materiálu - ideální pro figurky, šperky, prototypy a dekorativní předměty"
						}
					},
					{
						"@type": "Offer",
						"itemOffered": {
							"@type": "Service",
							"name": "3D tisk z PETG",
							"description": "3D tisk z PETG materiálu - odolný materiál vhodný pro mechanické díly a funkční prototypy"
						}
					},
					{
						"@type": "Offer",
						"itemOffered": {
							"@type": "Service",
							"name": "3D modelování",
							"description": "Návrh a vytvoření 3D modelů na zakázku podle vašich požadavků"
						}
					}
				]
			},
			"priceRange": "$$",
			"openingHours": "Mo-Su 08:00-22:00",
			"founder": {
				"@type": "Person",
				"name": "Michal Trněný",
				"jobTitle": "3D tiskař a majitel",
				"email": "michal@fajny3dtisk.cz"
			},
			"sameAs": [
				"https://www.instagram.com/fajny_3dtisk/"
			],
			"aggregateRating": {
				"@type": "AggregateRating",
				"ratingValue": "5",
				"reviewCount": "1"
			}
		}
		</script>
	</head>
	<body class="font-sans antialiased bg-gray-50 text-gray-900">
		<slot />

		<!-- GLightbox - Deferred loading for better performance -->
		<script is:inline>
			// Defer GLightbox CSS and JS loading until after page load
			window.addEventListener('load', function() {
				// Load CSS
				const link = document.createElement('link');
				link.rel = 'stylesheet';
				link.href = '/glightbox/css/glightbox.min.css';
				document.head.appendChild(link);

				// Load JS
				const script = document.createElement('script');
				script.src = '/glightbox/js/glightbox.min.js';
				script.async = true;
				document.body.appendChild(script);
			});
		</script>

		<!-- AOS (Animate On Scroll) -->
		<script>
			import AOS from 'aos';
			AOS.init({
				duration: 10000,
				easing: 'ease-in-out',
				once: true,
				offset: 120,
				// Performance optimizations
				throttleDelay: 200,      // Reduce scroll event frequency (default: 99ms)
				debounceDelay: 100,      // Reduce resize event checks (default: 50ms)
			});
		</script>
	</body>
</html>
