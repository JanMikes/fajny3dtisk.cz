---
import { HelpCircle, Clock, Box, Ruler, MapPin, Lightbulb } from 'lucide-astro';

const faqs = [
  {
    id: 1,
    icon: HelpCircle,
    question: "Co vlastně 3D tisk je?",
    answer: "3D tisk je jako kouzelná pekárna pro plastové věci! Místo mouky používám roztavený plast (PLA nebo PETG), který vrstva po vrstvě \"peču\" do požadovaného tvaru. Ve Frýdku-Místku máme jednu z nejmodernějších 3D tiskáren v okolí – dokáže vytvořit téměř cokoliv, co si dokážete představit!"
  },
  {
    id: 2,
    icon: Clock,
    question: "Jak rychlý je 3D tisk?",
    answer: "Na rozdíl od velkých firem, kde čekáte týdny, u nás ve Frýdku-Místku tiskneme express! Běžně do 48 hodin, a když opravdu hoří, zvládnu express za 24 hodin. Frank zatím hlídá, aby se tiskárna nezastavila, a Sabina už připravuje balení."
  },
  {
    id: 3,
    icon: Box,
    question: "Jaké materiály používáme pro 3D tisk?",
    answer: "Specializujeme se na PLA (perfektní pro dekorativní věci, hračky, prototypy) a PETG (odolnější, snese vyšší teploty, ideální na funkční díly). V našem skladu ve Frýdku-Místku máme základní barvy po ruce, speciální odstíny rád objednám!"
  },
  {
    id: 4,
    icon: Ruler,
    question: "Jak velké věci dokážeme vytisknout?",
    answer: "Naše 3D tiskárna zvládne rozměry 180×180×180 mm. To znamená, že vytiskneme prakticky cokoliv od miniaturních šperků po větší držáky či krabičky. Potřebujete něco většího? Rozdělíme model na části a pak ho slepíme!"
  },
  {
    id: 5,
    icon: MapPin,
    question: "Kam 3D tisk dodáváme?",
    answer: "I když jsme z Frýdku-Místku, expedujeme po celé České republice! Zásilkovna, Balíkovna nebo osobní předání – jak chcete. Místní zákazníci z Frýdku-Místku a okolí si mohou výtisky vyzvednout přímo u nás!"
  },
  {
    id: 6,
    icon: Lightbulb,
    question: "Nemám 3D model – pomůžete?",
    answer: "Jasně! Buď vám najdu hotový model z databází, nebo podle dohody navrhnu úplně nový na míru. Stačí mi říct, co potřebujete, a já vymyslím, jak to ve Frýdku-Místku rychle a kvalitně vytisknout!"
  }
];
---

<section id="faq" class="py-20 px-6 bg-brand-gray">
  <div class="max-w-5xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-brand-dark-red mb-4">
        Často kladené otázky o 3D tisku ve Frýdku-Místku
      </h2>
    </div>

    <!-- FAQ Accordion -->
    <div class="space-y-4">
      {faqs.map((faq) => {
        const Icon = faq.icon;
        return (
          <div class="faq-item bg-white rounded-xl shadow-md overflow-hidden">
            <button
              class="faq-question w-full text-left px-6 py-5 flex items-start gap-4 hover:bg-gray-50 transition-colors duration-200"
              aria-expanded="false"
            >
              <div class="flex-shrink-0 mt-1">
                <div class="w-10 h-10 rounded-lg bg-brand-orange/10 flex items-center justify-center">
                  <Icon class="w-5 h-5 text-brand-orange" />
                </div>
              </div>
              <div class="flex-1">
                <h3 class="text-lg md:text-xl font-bold text-brand-black pr-8">
                  {faq.question}
                </h3>
              </div>
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-brand-red transition-transform duration-300 faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </div>
            </button>
            <div class="faq-answer max-h-0 overflow-hidden transition-all duration-300">
              <div class="px-6 pb-5 pt-2">
                <p class="text-gray-700 leading-relaxed pl-14">
                  {faq.answer}
                </p>
              </div>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach((item) => {
      const question = item.querySelector('.faq-question');
      const answer = item.querySelector('.faq-answer');
      const icon = item.querySelector('.faq-icon');

      if (question && answer && icon) {
        question.addEventListener('click', () => {
          const isOpen = question.getAttribute('aria-expanded') === 'true';

          // Close all other items
          faqItems.forEach((otherItem) => {
            if (otherItem !== item) {
              const otherQuestion = otherItem.querySelector('.faq-question');
              const otherAnswer = otherItem.querySelector('.faq-answer');
              const otherIcon = otherItem.querySelector('.faq-icon');

              if (otherQuestion && otherAnswer && otherIcon) {
                otherQuestion.setAttribute('aria-expanded', 'false');
                otherAnswer.style.maxHeight = '0';
                otherIcon.style.transform = 'rotate(0deg)';
              }
            }
          });

          // Toggle current item
          if (isOpen) {
            question.setAttribute('aria-expanded', 'false');
            answer.style.maxHeight = '0';
            icon.style.transform = 'rotate(0deg)';
          } else {
            question.setAttribute('aria-expanded', 'true');
            answer.style.maxHeight = answer.scrollHeight + 'px';
            icon.style.transform = 'rotate(180deg)';
          }
        });
      }
    });
  });
</script>
